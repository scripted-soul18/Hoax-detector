from google import genai
import os

# Create client with API key from environment variable or local file
api_key = os.getenv("AIzaSyAgk64X6SA1ImgKAqBWberD_3AwwUFUEwA")
if not api_key:
    # Fallback: try reading from local file (for development only)
    key_file = "Gemini API key.txt"
    if os.path.exists(key_file):
        with open(key_file, "r") as f:
            api_key = f.read().strip().split()[0]  # Get first word (the key)
    else:
        raise ValueError(
            "GEMINI_API_KEY environment variable is not set and "
            f"'{key_file}' not found. Please set the environment variable "
            "or ensure the API key file exists."
        )
client = genai.Client(api_key=api_key)

# Use Gemini model
response = client.models.generate_content(
    model="gemini-2.5-flash",
    contents="Say hello in one line"
)

print(response.text)
